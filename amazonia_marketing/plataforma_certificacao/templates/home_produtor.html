{% extends 'base.html' %} {% block title %}Painel do Produtor{% endblock %}

{% block content %}
    <h1 style="color: var(--verde-amazonia);">Painel do Produtor Rural</h1>
    <p>Bem-vindo de volta! Aqui você gerencia sua produção.</p>
    <hr>
    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
            <a href="{% url 'cadastro_produto' %}" class="btn btn-primary">
                + Novo Produto
            </a>
            
            <a href="{% url 'enviar_autodeclaracao' %}" class="btn btn-destaque">
                Solicitar Certificação
            </a>
        </div>
        <br><br>
        <br><br>

        {% if produtos %}
            <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px;">
                {% for p in produtos %}
                    <div style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; ">
                    {% if p.image %}
                        <img src="{{ p.imagem.url }}" style="width: 100%; height: 150px; object-fit: cover;">
                    {% else %}
                        <div style="width: 100%; height: 150px; background: #ccc; display: flex; align-items: center; justify-content: center;"> Sem Fotos
                        </div>   
                    {% endif %}

                    <div style="padding: 10px;">
                        <h3 style="margin: 0; font-size: 16px"> {{ p.nome }}</h3>
                        <p style="color: var(--verde-amazonia); font-weight: bold;"> R$ {{ p.preco }}</p>
                        <small> Status: {{ p.status_estoque }}</small>
                    </div>
                </div>
                {% endfor %}
                </div>
        {% else %}
        <p><i>Você ainda não tem produtos cadastrados nessa sessão.</i></p>
        {% endif %}
    </div>
{% endblock %}